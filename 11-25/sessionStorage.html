<!-- 
웹스토리지 필요성
    웹은 웹 애플리케이션의 형태로 진화
    웹 문서를 보여주기나 검색, 구매 등 정보 소통 수단을 넘어섬
    웹 애플리케이션 사례) 게임, 그림 그리기, 학습
    웹 애플리케이션은 실행 도중 로컬 컴퓨터에 데이터 저장 공간 필요
    예) 게임 웹 애플리케이션 : 사용자 이름, 점수, 최고 점수자의 이름과 점수 등
    예) 쇼핑몰 : 사용자가 구입하려고 담은 리스트 
    HTML5 에서 웹 스토리지(web storage) 도입
    사용자 로컬 컴퓨터의 저장 공간
    웹 서버의 저장 부담과 네트워크 트래픽 감소
    HTML5 웹 스토리지는 오직 자바스크립트로만 읽고 쓸 수 있음

쿠키의 한계
    쿠키의 크기는 4KB로 제한- 충분한 량의 정보 저장 한계
    쿠키는 불필요한 트래픽 발생
    브라우저가 웹 서버에 요청을 보낼 때마다 함께 전송하기 때문
    쿠키는 윈도우마다 독립적인 값을 저장 불가
    브라우저의 모든 윈도우들이 공유하므로
    웹 스토리지 : 세션스토리지(session storage)와 로컬스토리지(local storage)
    웹 스토리지의 특징
    문자열만 저장
    (키, 값)으로 구성된 아이템 단위로 저장
    동일한 '키'를 가진 아이템은 존재할 수 없음
    '키'와 '값' 문자열은 대소문자 구분
    저장, 검색, 삭제 등 웹 스토리지의 조작은 모두 자바스크립트 코드로 작성 

세션 스토리지의 모든 아이템 출력
for(var i=0; i<sessionStorage.length; i++){
    var key = sessionStorage.key(i);
    var val = sessionStorage.getItem(key);
    document.write(key + " " + val +"<br>");
}

 -->

 <!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <title>세션 스토리지에 쓰기/읽기</title>
 </head>
 <body>
     <h3>세션스토지에 구입 리스트 저장/검색</h3><hr>
     품목명 : <input type="text" size="10" id="item">
     개수 : <input type="text" size="10" id="count">
     <button id="save" onclick="store()">저장</button>
     <button id="retrieve" onclick="retrieve()">검색</button>
     <script>
         var item = document.getElementById("item");
         /* itme 값 갖고옴 */
         var count = document.getElementById("count");
         /* count 값 갖고옴 */

         function store() {
             if(!window.sessionStorage){
                 /* 윈도우 세션스토리지를 지원안하는경우 실행 */
                 alert("세션 스토리지를 지원하지 않습니다.");
                 return;
             }
             /* sessionStorage에 setitem으로 값을 저장해준다. */
             sessionStorage.setItem(item.value,count.value);
         }

        function retrieve(){
            if(!window.sessionStorage){
                /* 윈도우 세션스토리지를 지원안하는경우 실행 */
                alert("세션 스토리지를 지원하지 않습니다.");
                return;
            }
            var val = sessionStorage.getItem(item.value);
            /* sessionStorage의 값을 갖고와서 val에 넣음  */

            if(val == null)
            /* 빈값일 경우 실행 */
                alert(item.value + "는 구입 리스트에 없습니다.");
            else   
                count.value=val;
                /* count.value 에 val 값을 넣ㄴ느다. */
        }
     </script>
     
 </body>
 </html>